@echo off
%~d0
cd %~dp0\
set path=%path%;%cd%\..\bin\flex
bison parser.y  -o parser_gen.cpp -d
flex --wincompat   -o lexer.cpp lexer.l

set path=%path%;"H:\llvm-vcbuild\Release\bin"
clang  -IH:\llvm-9.0.1.src\include -IH:\llvm-vcbuild\include  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_CRT_SECURE_NO_DEPRECATE -D_CRT_SECURE_NO_WARNINGS -D_CRT_NONSTDC_NO_DEPRECATE -D_CRT_NONSTDC_NO_WARNINGS -D_SCL_SECURE_NO_DEPRECATE -D_SCL_SECURE_NO_WARNINGS -DUNICODE -D_UNICODE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -LIBPATH:H:\llvm-vcbuild\Release\lib -I. H:\llvm-vcbuild\Release\lib\LLVMXRay.lib H:\llvm-vcbuild\Release\lib\LLVMWindowsManifest.lib H:\llvm-vcbuild\Release\lib\LLVMTextAPI.lib H:\llvm-vcbuild\Release\lib\LLVMTableGen.lib H:\llvm-vcbuild\Release\lib\LLVMSymbolize.lib H:\llvm-vcbuild\Release\lib\LLVMDebugInfoPDB.lib H:\llvm-vcbuild\Release\lib\LLVMOrcJIT.lib H:\llvm-vcbuild\Release\lib\LLVMJITLink.lib H:\llvm-vcbuild\Release\lib\LLVMObjectYAML.lib H:\llvm-vcbuild\Release\lib\LLVMMIRParser.lib H:\llvm-vcbuild\Release\lib\LLVMMCA.lib H:\llvm-vcbuild\Release\lib\LLVMLTO.lib H:\llvm-vcbuild\Release\lib\LLVMPasses.lib H:\llvm-vcbuild\Release\lib\LLVMObjCARCOpts.lib H:\llvm-vcbuild\Release\lib\LLVMLineEditor.lib H:\llvm-vcbuild\Release\lib\LLVMLibDriver.lib H:\llvm-vcbuild\Release\lib\LLVMInterpreter.lib H:\llvm-vcbuild\Release\lib\LLVMFuzzMutate.lib H:\llvm-vcbuild\Release\lib\LLVMMCJIT.lib H:\llvm-vcbuild\Release\lib\LLVMExecutionEngine.lib H:\llvm-vcbuild\Release\lib\LLVMRuntimeDyld.lib H:\llvm-vcbuild\Release\lib\LLVMDlltoolDriver.lib H:\llvm-vcbuild\Release\lib\LLVMOption.lib H:\llvm-vcbuild\Release\lib\LLVMDebugInfoGSYM.lib H:\llvm-vcbuild\Release\lib\LLVMCoverage.lib H:\llvm-vcbuild\Release\lib\LLVMCoroutines.lib H:\llvm-vcbuild\Release\lib\LLVMipo.lib H:\llvm-vcbuild\Release\lib\LLVMInstrumentation.lib H:\llvm-vcbuild\Release\lib\LLVMVectorize.lib H:\llvm-vcbuild\Release\lib\LLVMLinker.lib H:\llvm-vcbuild\Release\lib\LLVMIRReader.lib H:\llvm-vcbuild\Release\lib\LLVMAsmParser.lib H:\llvm-vcbuild\Release\lib\LLVMX86Disassembler.lib H:\llvm-vcbuild\Release\lib\LLVMX86AsmParser.lib H:\llvm-vcbuild\Release\lib\LLVMX86CodeGen.lib H:\llvm-vcbuild\Release\lib\LLVMGlobalISel.lib H:\llvm-vcbuild\Release\lib\LLVMSelectionDAG.lib H:\llvm-vcbuild\Release\lib\LLVMAsmPrinter.lib H:\llvm-vcbuild\Release\lib\LLVMDebugInfoDWARF.lib H:\llvm-vcbuild\Release\lib\LLVMCodeGen.lib H:\llvm-vcbuild\Release\lib\LLVMTarget.lib H:\llvm-vcbuild\Release\lib\LLVMScalarOpts.lib H:\llvm-vcbuild\Release\lib\LLVMInstCombine.lib H:\llvm-vcbuild\Release\lib\LLVMAggressiveInstCombine.lib H:\llvm-vcbuild\Release\lib\LLVMTransformUtils.lib H:\llvm-vcbuild\Release\lib\LLVMBitWriter.lib H:\llvm-vcbuild\Release\lib\LLVMAnalysis.lib H:\llvm-vcbuild\Release\lib\LLVMProfileData.lib H:\llvm-vcbuild\Release\lib\LLVMX86Desc.lib H:\llvm-vcbuild\Release\lib\LLVMObject.lib H:\llvm-vcbuild\Release\lib\LLVMMCParser.lib H:\llvm-vcbuild\Release\lib\LLVMBitReader.lib H:\llvm-vcbuild\Release\lib\LLVMCore.lib H:\llvm-vcbuild\Release\lib\LLVMRemarks.lib H:\llvm-vcbuild\Release\lib\LLVMBitstreamReader.lib H:\llvm-vcbuild\Release\lib\LLVMMCDisassembler.lib H:\llvm-vcbuild\Release\lib\LLVMMC.lib H:\llvm-vcbuild\Release\lib\LLVMDebugInfoCodeView.lib H:\llvm-vcbuild\Release\lib\LLVMDebugInfoMSF.lib H:\llvm-vcbuild\Release\lib\LLVMBinaryFormat.lib H:\llvm-vcbuild\Release\lib\LLVMX86Utils.lib H:\llvm-vcbuild\Release\lib\LLVMX86Info.lib H:\llvm-vcbuild\Release\lib\LLVMSupport.lib H:\llvm-vcbuild\Release\lib\LLVMDemangle.lib parser_gen.cpp main.cpp ast.cpp -o ray.exe